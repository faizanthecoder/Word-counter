<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Citation Generator - Free APA, MLA, Chicago Style | CountIt4U</title>
    <meta name="description" content="Generate citations in APA, MLA, Chicago, and Harvard formats instantly. Free citation generator with automatic formatting for books, websites, journals, and more.">
    <meta name="keywords" content="citation generator, APA citation, MLA citation, Chicago style, Harvard citation, bibliography maker, reference generator">
    <link rel="canonical" href="https://countit4u.fun/tools/citation-generator.html">
    <meta property="og:title" content="Citation Generator - Free APA, MLA, Chicago Style">
    <meta property="og:description" content="Generate citations in APA, MLA, Chicago, and Harvard formats instantly. Free citation generator with automatic formatting.">
    <meta property="og:url" content="https://countit4u.fun/tools/citation-generator.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Citation Generator - Free APA, MLA, Chicago Style">
    <meta name="twitter:description" content="Generate citations in APA, MLA, Chicago, and Harvard formats instantly. Free citation generator with automatic formatting.">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Citation Generator",
      "description": "Generate citations in APA, MLA, Chicago, and Harvard formats instantly",
      "url": "https://countit4u.fun/tools/citation-generator.html",
      "applicationCategory": "EducationalApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Organization",
        "name": "CountIt4U",
        "url": "https://countit4u.fun"
      }
    }
    </script>
    
    <link rel="stylesheet" href="../index.css">
    <style>
        .citation-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .citation-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .source-type-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .source-type-btn {
            padding: 1rem;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .source-type-btn:hover {
            border-color: #4f46e5;
            background: #f0f9ff;
        }
        
        .source-type-btn.active {
            border-color: #4f46e5;
            background: #4f46e5;
            color: white;
        }
        
        .citation-form {
            display: grid;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .form-group {
            display: grid;
            gap: 0.5rem;
        }
        
        .form-group label {
            font-weight: 600;
            color: #374151;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .style-selector {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }
        
        .style-btn {
            padding: 0.75rem 1.5rem;
            border: 2px solid #e2e8f0;
            background: white;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .style-btn:hover {
            border-color: #4f46e5;
            background: #f0f9ff;
        }
        
        .style-btn.active {
            border-color: #4f46e5;
            background: #4f46e5;
            color: white;
        }
        
        .generate-btn {
            background: #4f46e5;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .generate-btn:hover {
            background: #4338ca;
        }
        
        .citation-result {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1.5rem;
            margin-top: 2rem;
            display: none;
        }
        
        .citation-result.show {
            display: block;
        }
        
        .citation-text {
            font-family: 'Courier New', monospace;
            background: white;
            padding: 1rem;
            border-radius: 4px;
            border: 1px solid #d1d5db;
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .citation-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .copy-btn,
        .download-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            background: white;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .copy-btn:hover,
        .download-btn:hover {
            background: #f3f4f6;
        }
        
        .multiple-citations {
            margin-top: 2rem;
        }
        
        .citation-list {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .citation-item {
            background: white;
            padding: 1rem;
            border-radius: 4px;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .citation-item:last-child {
            margin-bottom: 0;
        }
        
        .remove-citation {
            background: #ef4444;
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.875rem;
        }
        
        .remove-citation:hover {
            background: #dc2626;
        }
        
        .export-bibliography {
            margin-top: 1rem;
            text-align: center;
        }
        
        .export-btn {
            background: #10b981;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .export-btn:hover {
            background: #059669;
        }
        
        .floating-tools {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            padding: 1rem;
            z-index: 1000;
            max-width: 250px;
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .floating-tools h3 {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: #374151;
            text-align: center;
        }
        
        .floating-tool-item {
            display: block;
            padding: 0.5rem;
            margin-bottom: 0.5rem;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            text-decoration: none;
            color: #374151;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }
        
        .floating-tool-item:hover {
            background: #4f46e5;
            color: white;
            border-color: #4f46e5;
        }
        
        .floating-tool-item:last-child {
            margin-bottom: 0;
        }
        
        .close-floating {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #6b7280;
        }
        
        .close-floating:hover {
            color: #374151;
        }
        
        @media (max-width: 768px) {
            .citation-container {
                padding: 1rem;
            }
            
            .source-type-selector {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .style-selector {
                justify-content: center;
            }
            
            .floating-tools {
                position: fixed;
                bottom: 20px;
                right: 20px;
                top: auto;
                transform: none;
                max-width: 200px;
                max-height: 300px;
            }
        }
    </style>
</head>
<body>
<header>
  <h1>CountIt4U</h1>

  <nav class="navbar" id="navbar">
    <a href="../index.html">Home</a>
    <a href="../about.html">About</a>
    <a href="../writing-resources.html">üìö Writing Resources</a>
    <a href="../writing-tools.html">üõ†Ô∏è Writing Tools</a>
    <a href="../writing-case-studies.html">üìä Success Stories</a>
    <a href="../blog/index.html">üìù Blog</a>
    <a href="../contact.html">Contact Us</a>
    <a href="../privacy.html">Privacy Policy</a>
    <a href="../terms&conditions.html">Terms & Conditions</a>
    <a href="../FAQs.html">FAQs</a>
  </nav>

  <div class="menu-icon" id="menu-icon">‚ò∞</div>
  <button class="toggle-theme">üåô Dark Mode</button>
</header>

    <main>
        <div class="citation-container">
            <div class="citation-header">
                <h1>Citation Generator</h1>
                <p>Generate perfect citations in APA, MLA, Chicago, and Harvard formats instantly</p>
            </div>

            <div class="source-type-selector">
                <button class="source-type-btn active" data-type="book">üìö Book</button>
                <button class="source-type-btn" data-type="website">üåê Website</button>
                <button class="source-type-btn" data-type="journal">üìÑ Journal</button>
                <button class="source-type-btn" data-type="newspaper">üì∞ Newspaper</button>
                <button class="source-type-btn" data-type="magazine">üìñ Magazine</button>
                <button class="source-type-btn" data-type="video">üé¨ Video</button>
            </div>

            <div class="style-selector">
                <button class="style-btn active" data-style="apa">APA 7th</button>
                <button class="style-btn" data-style="mla">MLA 9th</button>
                <button class="style-btn" data-style="chicago">Chicago</button>
                <button class="style-btn" data-style="harvard">Harvard</button>
            </div>
                        <form class="citation-form" id="citationForm">
                <div class="form-group">
                    <label for="author">Author(s)</label>
                    <input type="text" id="author" placeholder="e.g., John Smith or Smith, John" required>
                </div>
                
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" id="title" placeholder="e.g., The Great Gatsby" required>
                </div>
                
                <div class="form-group" id="publisherGroup">
                    <label for="publisher">Publisher</label>
                    <input type="text" id="publisher" placeholder="e.g., Penguin Books">
                </div>
                
                <div class="form-group" id="yearGroup">
                    <label for="year">Year</label>
                    <input type="number" id="year" placeholder="e.g., 2023" min="1900" max="2024">
                </div>
                
                <div class="form-group" id="urlGroup" style="display: none;">
                    <label for="url">URL</label>
                    <input type="url" id="url" placeholder="https://example.com">
                </div>
                
                <div class="form-group" id="accessDateGroup" style="display: none;">
                    <label for="accessDate">Access Date</label>
                    <input type="date" id="accessDate">
                </div>
                
                <div class="form-group" id="journalGroup" style="display: none;">
                    <label for="journal">Journal Name</label>
                    <input type="text" id="journal" placeholder="e.g., Nature">
                </div>
                
                <div class="form-group" id="volumeGroup" style="display: none;">
                    <label for="volume">Volume</label>
                    <input type="text" id="volume" placeholder="e.g., 15">
                </div>
                
                <div class="form-group" id="issueGroup" style="display: none;">
                    <label for="issue">Issue</label>
                    <input type="text" id="issue" placeholder="e.g., 3">
                </div>
                
                <div class="form-group" id="pagesGroup" style="display: none;">
                    <label for="pages">Pages</label>
                    <input type="text" id="pages" placeholder="e.g., 123-145">
                </div>
                
                <div class="form-group" id="doiGroup" style="display: none;">
                    <label for="doi">DOI</label>
                    <input type="text" id="doi" placeholder="e.g., 10.1000/xyz123">
                </div>
                
                <button type="submit" class="generate-btn">Generate Citation</button>
            </form>

            <div class="citation-result" id="citationResult">
                <h3>Generated Citation</h3>
                <div class="citation-text" id="citationText"></div>
                <div class="citation-actions">
                    <button class="copy-btn" onclick="copyCitation()">üìã Copy Citation</button>
                    <button class="download-btn" onclick="downloadCitation()">üíæ Download</button>
                    <button class="add-to-list-btn" onclick="addToList()">‚ûï Add to Bibliography</button>
                </div>
            </div>

            <div class="multiple-citations">
                <h3>Bibliography</h3>
                <div class="citation-list" id="citationList">
                    <p style="text-align: center; color: #6b7280;">No citations added yet</p>
                </div>
                <div class="export-bibliography">
                    <button class="export-btn" onclick="exportBibliography()">üì• Export Bibliography</button>
                </div>
            </div>
        </div>
    </main>

    <!-- Floating Tools Panel -->
    <div class="floating-tools" id="floatingTools">
        <button class="close-floating" onclick="toggleFloatingTools()">√ó</button>
        <h3>üõ†Ô∏è More Tools</h3>
        <a href="../tools/paraphraser.html" class="floating-tool-item">üîÑ Text Paraphraser</a>
        <a href="../tools/summarizer.html" class="floating-tool-item">üìù Text Summarizer</a>
        <a href="../tools/grammar-checker.html" class="floating-tool-item">‚úÖ Grammar Checker</a>
        <a href="../tools/readability-analyzer.html" class="floating-tool-item">üìä Readability Analyzer</a>
        <a href="../tools/tone-style-analyzer.html" class="floating-tool-item">üé® Tone & Style Analyzer</a>
        <a href="../tools/plagiarism-detector.html" class="floating-tool-item">üîç Plagiarism Detector</a>
        <a href="../tools/ai-writing-assistant.html" class="floating-tool-item">üí° AI Writing Assistant</a>
        <a href="../tools/seo-content-optimizer.html" class="floating-tool-item">üìà SEO Content Optimizer</a>
        <a href="../tools/text-to-speech.html" class="floating-tool-item">üéôÔ∏è Text to Speech</a>
        <a href="../tools/content-rewriter.html" class="floating-tool-item">üîÑ Content Rewriter</a>
        <a href="../tools/multi-language-translator.html" class="floating-tool-item">üåç Multi-Language Translator</a>
    </div>

<footer>
    <div class="footer-container">
      <div class="footer-section pages">
        <h4>Quick Links</h4>
        <a href="../index.html">üè† Home</a>
        <a href="../about.html">üìò About</a>
        <a href="../writing-resources.html">üìö Writing Resources</a>
        <a href="../writing-tools.html">üõ†Ô∏è Writing Tools</a>
        <a href="../writing-case-studies.html">üìä Success Stories</a>
        <a href="../blog/index.html">üìù Blog</a>
        <a href="../contact.html">üì© Contact</a>
        <a href="../privacy.html">üîí Privacy Policy</a>
        <a href="../terms&conditions.html">üìÑ Terms & Conditions</a>
        <a href="../FAQs.html">‚ùì FAQs</a>
      </div>
      <div class="footer-section social-icons">
        <h4>Follow Me</h4>
        <a href="https://x.com/faizanthecoder" target="_blank">
          <span class="common"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
              viewBox="0 0 100 100" id="social">
              <path
                d="M50,0C22.386,0,0,22.386,0,50c0,27.614,22.386,50,50,50c27.614,0,50-22.386,50-50C100,22.386,77.614,0,50,0z M66.764,28.385 c0,0.745-0.604,1.349-1.348,1.349l-5.779,0.002c-3.984,0-4.713,1.553-4.713,4.611v6.363h10.089c0.358,0,0.702,0.142,0.955,0.396 c0.253,0.253,0.395,0.596,0.395,0.954l-0.004,10.876c0,0.745-0.604,1.349-1.349,1.349H54.924v27.443 c0,0.745-0.604,1.349-1.349,1.349H42.322c-0.745,0-1.349-0.604-1.349-1.349V54.284h-8.625c-0.745,0-1.349-0.604-1.349-1.349V42.06 c0-0.745,0.604-1.35,1.349-1.35h8.625v-7.506c0-9.89,6.228-16.28,15.866-16.28l8.579,0.014c0.744,0.001,1.347,0.605,1.347,1.349 V28.385z">
              </path>
            </svg>Facebook</span>
        </a> <a href="https://www.instagram.com/faizanthecoder/" target="_blank">
          <p class="common"> <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" version="1.2"
              viewBox="0 0 24 24" id="social">
              <path
                d="M18 3H6C4.3 3 3 4.3 3 6v12c0 1.7 1.3 3 3 3h12c1.7 0 3-1.3 3-3V6c0-1.7-1.3-3-3-3zm-6 6c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3zm3.8-2c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2-.5 1.2-1.2 1.2-1.2-.5-1.2-1.2zM18 19H6c-.6 0-1-.4-1-1v-6h2c0 2.8 2.2 5 5 5s5-2.2 5-5h2v6c0 .6-.4 1-1 1z">
              </path>
            </svg>Instagram </p>
        </a> <a href="https://x.com/faizanthecoder" target="_blank">
          <p class="common"> <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="white"
              viewBox="0 0 24 24">
              <path
                d="M19 0h-14C2.2 0 0 2.2 0 5v14c0 2.8 2.2 5 5 5h14c2.8 0 5-2.2 5-5V5c0-2.8-2.2-5-5-5zM8 19H5V9h3v10zm-1.5-11.3c-.9 0-1.5-.6-1.5-1.5S5.6 5 6.5 5s1.5.6 1.5 1.5S7.4 7.7 6.5 7.7zM20 19h-3v-5c0-1.4-.5-2.4-1.8-2.4-1 0-1.6.7-1.9 1.4-.1.3-.1.8-.1 1.3V19h-3V9h3v1.4c.4-.6 1.2-1.4 2.9-1.4 2.1 0 3.9 1.4 3.9 4.6V19z">
              </path>
            </svg>Linked in </p>
        </a> <a href="https://x.com/faizanthecoder" target="_blank">
          <p class="common"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="none"
              viewBox="0 0 256 256" id="social">
              <rect width="224" height="224" x="16" y="16" fill="url(#paint0_linear_531_13667)" rx="70"></rect>
              <path fill="#000"
                d="M166.445 68H186.802L142.329 118.831L194.649 188H153.682L121.596 146.049L84.8824 188H64.5131L112.082 133.631L61.8916 68H103.898L132.901 106.345L166.445 68ZM159.301 175.815H170.581L97.7685 79.5446H85.6639L159.301 175.815Z">
              </path>
              <defs>
                <linearGradient id="paint0_linear_531_13667" x1="16" x2="208" y1="16" y2="240"
                  gradientUnits="userSpaceOnUse">
                  <stop stop-color="#fff"></stop>
                  <stop offset="1" stop-color="#ACCCFF"></stop>
                </linearGradient>
              </defs>
            </svg>Twitter</p>
        </a> <a href="https://x.com/faizanthecoder" target="_blank">
          <p class="common"> <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
              version="1.2" id="social">
              <path
                d="M22.8 8.6c-.2-1.5-.4-2.6-1-3C21.2 5.1 16 5 12 5s-9.2.1-9.8.6c-.6.4-.8 1.5-1 3S1 11 1 12s0 1.9.2 3.4.4 2.6 1 3c.6.5 5.8.6 9.8.6 4 0 9.2-.1 9.8-.6.6-.4.8-1.5 1-3S23 13 23 12s0-1.9-.2-3.4zm-12.8 7V8.4l6 3.6-6 3.6z">
              </path>
            </svg>Youtube </p>
        </a>
      </div>
      </div>
    </div>

    <div class="copyright">
      <p>¬© <span id="year"></span> CountIt4U ‚Äî Built by <strong>Faizan the Coder</strong></p>
    </div>
  </footer>

    <script>
        let currentSourceType = 'book';
        let currentStyle = 'apa';
        let citations = [];

        // Source type selection
        document.querySelectorAll('.source-type-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.source-type-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentSourceType = this.dataset.type;
                updateFormFields();
            });
        });

        // Style selection
        document.querySelectorAll('.style-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.style-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentStyle = this.dataset.style;
            });
        });

        // Form submission
        document.getElementById('citationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generateCitation();
        });

        function updateFormFields() {
            // Hide all optional fields
            const optionalFields = ['publisherGroup', 'urlGroup', 'accessDateGroup', 'journalGroup', 'volumeGroup', 'issueGroup', 'pagesGroup', 'doiGroup'];
            optionalFields.forEach(field => {
                document.getElementById(field).style.display = 'none';
            });

            // Show relevant fields based on source type
            switch(currentSourceType) {
                case 'book':
                    document.getElementById('publisherGroup').style.display = 'block';
                    break;
                case 'website':
                    document.getElementById('urlGroup').style.display = 'block';
                    document.getElementById('accessDateGroup').style.display = 'block';
                    break;
                case 'journal':
                    document.getElementById('journalGroup').style.display = 'block';
                    document.getElementById('volumeGroup').style.display = 'block';
                    document.getElementById('issueGroup').style.display = 'block';
                    document.getElementById('pagesGroup').style.display = 'block';
                    document.getElementById('doiGroup').style.display = 'block';
                    break;
                case 'newspaper':
                    document.getElementById('publisherGroup').style.display = 'block';
                    break;
                case 'magazine':
                    document.getElementById('publisherGroup').style.display = 'block';
                    break;
                case 'video':
                    document.getElementById('urlGroup').style.display = 'block';
                    break;
            }
        }

        function generateCitation() {
            const author = document.getElementById('author').value;
            const title = document.getElementById('title').value;
            const publisher = document.getElementById('publisher').value;
            const year = document.getElementById('year').value;
            const url = document.getElementById('url').value;
            const accessDate = document.getElementById('accessDate').value;
            const journal = document.getElementById('journal').value;
            const volume = document.getElementById('volume').value;
            const issue = document.getElementById('issue').value;
            const pages = document.getElementById('pages').value;
            const doi = document.getElementById('doi').value;

            let citation = '';

            switch(currentStyle) {
                case 'apa':
                    citation = generateAPA(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi);
                    break;
                case 'mla':
                    citation = generateMLA(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi);
                    break;
                case 'chicago':
                    citation = generateChicago(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi);
                    break;
                case 'harvard':
                    citation = generateHarvard(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi);
                    break;
            }

            document.getElementById('citationText').textContent = citation;
            document.getElementById('citationResult').classList.add('show');
        }

        function generateAPA(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi) {
            let citation = '';
            
            if (currentSourceType === 'book') {
                citation = `${author} (${year}). *${title}*. ${publisher}.`;
            } else if (currentSourceType === 'website') {
                citation = `${author}. (${year}). *${title}*. Retrieved ${accessDate}, from ${url}`;
            } else if (currentSourceType === 'journal') {
                citation = `${author} (${year}). ${title}. *${journal}*, ${volume}(${issue}), ${pages}. https://doi.org/${doi}`;
            } else if (currentSourceType === 'newspaper') {
                citation = `${author}. (${year}, ${new Date().toLocaleDateString()}). ${title}. *${publisher}*.`;
            } else if (currentSourceType === 'magazine') {
                citation = `${author}. (${year}). ${title}. *${publisher}*, ${pages}.`;
            } else if (currentSourceType === 'video') {
                citation = `${author}. (${year}). *${title}* [Video]. Retrieved from ${url}`;
            }
            
            return citation;
        }

        function generateMLA(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi) {
            let citation = '';
            
            if (currentSourceType === 'book') {
                citation = `${author}. *${title}*. ${publisher}, ${year}.`;
            } else if (currentSourceType === 'website') {
                citation = `${author}. "${title}." *${new URL(url).hostname}*, ${new Date().toLocaleDateString()}, ${url}. Accessed ${accessDate}.`;
            } else if (currentSourceType === 'journal') {
                citation = `${author}. "${title}." *${journal}*, vol. ${volume}, no. ${issue}, ${year}, pp. ${pages}.`;
            } else if (currentSourceType === 'newspaper') {
                citation = `${author}. "${title}." *${publisher}*, ${new Date().toLocaleDateString()}, pp. ${pages}.`;
            } else if (currentSourceType === 'magazine') {
                citation = `${author}. "${title}." *${publisher}*, ${new Date().toLocaleDateString()}, pp. ${pages}.`;
            } else if (currentSourceType === 'video') {
                citation = `${author}. "${title}." *YouTube*, uploaded by ${author}, ${new Date().toLocaleDateString()}, ${url}.`;
            }
            
            return citation;
        }

        function generateChicago(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi) {
            let citation = '';
            
            if (currentSourceType === 'book') {
                citation = `${author}. *${title}*. ${publisher}, ${year}.`;
            } else if (currentSourceType === 'website') {
                citation = `${author}. "${title}." Last modified ${new Date().toLocaleDateString()}. Accessed ${accessDate}. ${url}.`;
            } else if (currentSourceType === 'journal') {
                citation = `${author}. "${title}." *${journal}* ${volume}, no. ${issue} (${year}): ${pages}. https://doi.org/${doi}`;
            } else if (currentSourceType === 'newspaper') {
                citation = `${author}. "${title}." *${publisher}*, ${new Date().toLocaleDateString()}.`;
            } else if (currentSourceType === 'magazine') {
                citation = `${author}. "${title}." *${publisher}*, ${new Date().toLocaleDateString()}.`;
            } else if (currentSourceType === 'video') {
                citation = `${author}. "${title}." Video, ${new Date().toLocaleDateString()}. ${url}.`;
            }
            
            return citation;
        }

        function generateHarvard(author, title, publisher, year, url, accessDate, journal, volume, issue, pages, doi) {
            let citation = '';
            
            if (currentSourceType === 'book') {
                citation = `${author} (${year}) *${title}*. ${publisher}.`;
            } else if (currentSourceType === 'website') {
                citation = `${author} (${year}) *${title}*. [online] Available at: ${url} [Accessed ${accessDate}].`;
            } else if (currentSourceType === 'journal') {
                citation = `${author} (${year}) '${title}', *${journal}*, ${volume}(${issue}), pp. ${pages}.`;
            } else if (currentSourceType === 'newspaper') {
                citation = `${author} (${year}) '${title}', *${publisher}*, ${new Date().toLocaleDateString()}.`;
            } else if (currentSourceType === 'magazine') {
                citation = `${author} (${year}) '${title}', *${publisher}*, ${new Date().toLocaleDateString()}, pp. ${pages}.`;
            } else if (currentSourceType === 'video') {
                citation = `${author} (${year}) *${title}* [video]. Available at: ${url} [Accessed ${accessDate}].`;
            }
            
            return citation;
        }

        function copyCitation() {
            const citationText = document.getElementById('citationText').textContent;
            navigator.clipboard.writeText(citationText).then(() => {
                alert('Citation copied to clipboard!');
            });
        }

        function downloadCitation() {
            const citationText = document.getElementById('citationText').textContent;
            const blob = new Blob([citationText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `citation_${currentStyle}_${Date.now()}.txt`;
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function addToList() {
            const citationText = document.getElementById('citationText').textContent;
            citations.push(citationText);
            updateCitationList();
        }

        function updateCitationList() {
            const listElement = document.getElementById('citationList');
            
            if (citations.length === 0) {
                listElement.innerHTML = '<p style="text-align: center; color: #6b7280;">No citations added yet</p>';
            } else {
                listElement.innerHTML = citations.map((citation, index) => `
                    <div class="citation-item">
                        <span>${citation}</span>
                        <button class="remove-citation" onclick="removeCitation(${index})">Remove</button>
                    </div>
                `).join('');
            }
        }

function exportBibliography() {
    if (citations.length === 0) {
        alert('No citations to export!');
        return;
    }
    
    const bibliography = citations.join('\n\n');
    const blob = new Blob([bibliography], { type: 'text/plain' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `bibliography_${currentStyle}_${Date.now()}.txt`;
    a.click();
    window.URL.revokeObjectURL(url);
}

// Toggle floating tools
function toggleFloatingTools() {
    const floatingTools = document.getElementById('floatingTools');
    floatingTools.style.display = floatingTools.style.display === 'none' ? 'block' : 'none';
}

// Set today's date as default for access date
document.getElementById('accessDate').valueAsDate = new Date();
        
// Initialize form
updateFormFields();
</script>
</body>
</html>